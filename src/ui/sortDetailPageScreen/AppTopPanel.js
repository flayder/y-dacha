import React, {useState} from "react"
import {View, StyleSheet, TouchableOpacity} from "react-native"
import {Svg, Path} from "react-native-svg";
import {AppText} from "../AppText";
import {THEME} from "../../../theme";
import AppVote from "../AppVote";
import {AppTextItalic} from "../AppTextItalic";
import {LinkTo} from "../../../global";

export default ({data, navigation, route}) => {
    const Item = ({children, active = false, onPress}) => {
        const back = (active) ? THEME.SLIDER_BG : "transparent"
        //const fill = (active) ? "" : "#60A04E"
        return (
            <TouchableOpacity
                style={{...styles.block, backgroundColor: back}}
                onPress={onPress}
            >
                {children}
            </TouchableOpacity>
        )
    }
    return (
        <View style={styles.wrap}>
            <Item
                active={true}
                onPress={() => {
                    LinkTo("ShopsPageScreen", {
                        type: "sort",
                        previousRoute: "SortDetailPageScreen",
                        sortId: data.id
                    }, navigation, route)
                }}
            >
                <Svg width="27" height="24" viewBox="0 0 24 21" fill="none">
                    <Path d="M9.33735 15.8005C8.15347 15.8005 7.19727 16.7567 7.19727 17.9406C7.19727 19.1245 8.15347 20.0807 9.33735 20.0807C10.5212 20.0807 11.4774 19.1245 11.4774 17.9406C11.4774 16.7567 10.5212 15.8005 9.33735 15.8005ZM9.33735 18.6692C8.92754 18.6692 8.60881 18.3504 8.60881 17.9406C8.60881 17.5308 8.92754 17.2121 9.33735 17.2121C9.74715 17.2121 10.0659 17.5308 10.0659 17.9406C10.0659 18.3504 9.74715 18.6692 9.33735 18.6692Z"
                          fill={"#F39314"}/>
                    <Path d="M16.5319 15.8005C15.3481 15.8005 14.3918 16.7567 14.3918 17.9406C14.3918 19.1245 15.3481 20.0807 16.5319 20.0807C17.7158 20.0807 18.672 19.1245 18.672 17.9406C18.672 16.7567 17.7158 15.8005 16.5319 15.8005ZM16.5319 18.6692C16.1221 18.6692 15.8034 18.3504 15.8034 17.9406C15.8034 17.5308 16.1221 17.2121 16.5319 17.2121C16.9417 17.2121 17.2605 17.5308 17.2605 17.9406C17.2605 18.3504 16.9417 18.6692 16.5319 18.6692Z"
                          fill={"#F39314"}/>
                    <Path d="M3.87036 1.45708L3.64269 0H0.728539C0.318736 0 0 0.318736 0 0.728539C0 1.13834 0.318736 1.45708 0.728539 1.45708H2.41328L4.3257 12.9771C4.3257 13.7512 4.96317 14.4342 5.78278 14.4342H20.1714C20.9455 14.4342 21.6285 13.7967 21.6285 12.9771L23.0856 2.91416V1.45708H3.96143H3.87036Z"
                          fill={"#F39314"} />
                </Svg>
                <View style={styles.blockText}>
                    <AppText style={styles.text}>
                        Где купить?
                    </AppText>
                </View>
            </Item>
            <Item
                onPress={() => {
                    LinkTo("SortParametersPageScreen", {
                        sortId: data.id
                    }, navigation)
                }}
            >
                <Svg width="16" height="24" viewBox="0 0 10 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <Path d="M6.69146 1.1716V1.9982H6.48673C6.24664 1.9982 6.01836 2.07695 5.84814 2.24185C5.67693 2.40771 5.59201 2.63422 5.59201 2.87574C5.59201 3.11726 5.67693 3.34377 5.84814 3.50963C6.01836 3.67453 6.24664 3.75328 6.48673 3.75328H6.69146V4.23488H6.48673C6.24664 4.23488 6.01836 4.31363 5.84814 4.47854C5.67693 4.6444 5.59201 4.87091 5.59201 5.11243C5.59201 5.35395 5.67693 5.58045 5.84814 5.74631C6.01836 5.91122 6.24664 5.98997 6.48673 5.98997H6.69146V6.47157H6.48673C6.24664 6.47157 6.01836 6.55032 5.84814 6.71522C5.67693 6.88108 5.59201 7.10759 5.59201 7.34911C5.59201 7.59063 5.67693 7.81714 5.84814 7.983C6.01836 8.14791 6.24664 8.22666 6.48673 8.22666H6.69146V9.43968L6.68646 9.44452L6.355 9.76562L6.75678 9.99267C7.98472 10.6866 8.89035 11.9652 8.89035 13.5266C8.89035 15.7755 6.96627 17.655 4.61768 17.655C2.26908 17.655 0.345 15.7755 0.345 13.5266C0.345 12.0546 1.15571 10.6829 2.4684 9.99819L2.65384 9.90146V9.69231V1.1716C2.65384 0.733325 3.03869 0.345 3.51823 0.345H5.82707C6.3066 0.345 6.69146 0.733326 6.69146 1.1716ZM4.1779 11.2899C4.1779 10.9449 4.17773 10.9449 4.17756 10.9449L4.17722 10.9449L4.17648 10.9449L4.17485 10.945L4.17093 10.945L4.16059 10.9452C4.15262 10.9455 4.14248 10.946 4.13046 10.9468C4.10654 10.9485 4.07454 10.9516 4.03701 10.9577C3.96363 10.9695 3.8603 10.9939 3.75264 11.046C3.64388 11.0987 3.52302 11.1837 3.42986 11.319C3.33484 11.4571 3.28317 11.6267 3.28317 11.8225C3.28317 12.0183 3.33484 12.1879 3.42986 12.3259C3.52302 12.4613 3.64388 12.5463 3.75264 12.599C3.8603 12.6511 3.96363 12.6754 4.03701 12.6873C4.07454 12.6934 4.10654 12.6965 4.13046 12.6982C4.14248 12.699 4.15262 12.6995 4.16059 12.6997L4.17093 12.7L4.17485 12.7L4.17648 12.7L4.17722 12.7L4.17756 12.7C4.17773 12.7 4.1779 12.7 4.1779 12.358V12.7C4.98727 12.7 5.59201 13.3014 5.59201 14.0592H5.93701C5.59201 14.0592 5.59201 14.0593 5.59201 14.0595L5.59201 14.0599L5.59201 14.0607L5.59202 14.0624L5.59208 14.0664L5.59235 14.077C5.59263 14.0851 5.59313 14.0954 5.59402 14.1074C5.59579 14.1315 5.59915 14.1634 5.6056 14.2009C5.61821 14.2742 5.64406 14.3769 5.69915 14.4837C5.75506 14.592 5.84377 14.7092 5.98175 14.7983C6.12137 14.8885 6.29114 14.9367 6.48673 14.9367C6.68233 14.9367 6.8521 14.8885 6.99171 14.7983C7.1297 14.7092 7.21841 14.592 7.27432 14.4837C7.32941 14.3769 7.35526 14.2742 7.36787 14.2009C7.37431 14.1634 7.37768 14.1315 7.37945 14.1074C7.38034 14.0954 7.38084 14.0851 7.38112 14.077L7.38139 14.0664L7.38144 14.0624L7.38145 14.0607L7.38146 14.0599L7.38146 14.0595C7.38146 14.0593 7.38146 14.0592 7.03646 14.0592H7.38146C7.38146 12.3759 6.01595 10.9449 4.1779 10.9449V11.2899Z" stroke="#60A04E" stroke-width="0.69"/>
                </Svg>
                <View style={styles.blockText}>
                    <AppText style={styles.text}>
                        Параметры
                    </AppText>
                </View>
            </Item>
            <Item
                onPress={() => {
                    LinkTo("SortCalendarPageScreen", {
                        sortId: data.id
                    }, navigation)
                }}
            >
                <Svg width="24" height="24" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <Path d="M15.3093 12V12.345H15.6543H16.8032C17.282 12.345 17.655 12.7177 17.655 13.2V16.8C17.655 17.2823 17.282 17.655 16.8032 17.655H13.2128C12.734 17.655 12.361 17.2823 12.361 16.8V13.2C12.361 12.7177 12.734 12.345 13.2128 12.345H14.4096H14.7546V12V9.6V9.255H14.4096H3.59043H3.24543V9.6V12V12.345H3.59043H4.78723C5.26604 12.345 5.63904 12.7177 5.63904 13.2V16.8C5.63904 17.2823 5.26604 17.655 4.78723 17.655H1.19681C0.717999 17.655 0.345 17.2823 0.345 16.8V13.2C0.345 12.7177 0.718 12.345 1.19681 12.345H2.39362H2.73862V12V8.745H8.42553H8.77053V8.4V6V5.655H8.42553H7.22872C6.74991 5.655 6.37691 5.28233 6.37691 4.8V1.2C6.37691 0.717671 6.74991 0.345 7.22872 0.345H10.8191C11.298 0.345 11.671 0.717672 11.671 1.2V4.8C11.671 5.28233 11.298 5.655 10.8191 5.655H9.62234H9.27734V6V8.4V8.745H9.62234H15.3093V12Z" stroke="#60A04E" stroke-width="0.69"/>
                </Svg>
                <View style={styles.blockText}>
                    <AppText style={styles.text}>
                        Календарь растения
                    </AppText>
                </View>
            </Item>
            <Item>
                <AppVote starWidth={12} starHeight={12} style={styles.vote} initiate={data.rating} />
                <View style={styles.blockText}>
                    <AppTextItalic style={{...styles.italic, fontSize: 10}}>
                        Рейтинг сорта
                    </AppTextItalic>
                    <AppText style={{...styles.text, fontSize: 10, marginTop: 0}}>
                        Артикул {data.articul}
                    </AppText>
                </View>
            </Item>
        </View>
    )
}

const styles = StyleSheet.create({
    wrap: {
        flexDirection: "row",
        width: "100%"
    },
    block: {
        width: "25%",
        justifyContent: "space-between",
        alignItems: "center",
        padding: 10,
        height: 85
    },
    vote: {
        width: "100%"
    },
    italic: {
        marginBottom: -3,
        marginTop: 10,
        fontSize: 12
    },
    blockText: {
        height: 40,
        alignItems: "center",
        justifyContent: "center"
    },
    text: {
        flexDirection: "row",
        marginTop: 5,
        marginBottom: 0,
        textAlign: "center",
        alignItems: "center",
        lineHeight: 14,
        fontSize: 12
    }
})