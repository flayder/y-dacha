import React, {useState} from "react"
import {View, StyleSheet, TouchableOpacity} from "react-native"
import {AppText} from "../AppText";
import {Svg, Path} from "react-native-svg";

export default (
    {
        style,
        label,
        iconColor = "#5382D8",
        outside = false,
        onResult,
        activeIs = false
    }) => {
    const [active, setActive] = useState(activeIs)

    if(outside && activeIs != active) {
        setActive(activeIs)
    }

    return (
        <TouchableOpacity
            activeOpacity={1}
            onPress={() => {
                if(onResult) onResult(!active)
                if(!outside)
                    setActive(!active)
            }}
            style={{...styles.wrap, ...style}}
        >
            {
                !active
                    ?
                    <Svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <Path d="M8.97395 18C7.19905 17.9999 5.46403 17.4735 3.98828 16.4874C2.51253 15.5013 1.36233 14.0998 0.683114 12.46C0.00389957 10.8203 -0.173822 9.01593 0.172421 7.27517C0.518664 5.53441 1.37332 3.93541 2.62833 2.68035C3.45917 1.83589 4.449 1.16427 5.54071 0.704247C6.63242 0.244224 7.80442 0.00489815 8.98909 7.44032e-05C10.1738 -0.00474934 11.3477 0.225024 12.4431 0.676141C13.5385 1.12726 14.5338 1.79079 15.3715 2.62847C16.2092 3.46614 16.8727 4.46138 17.3238 5.55678C17.775 6.65217 18.0047 7.82605 17.9999 9.01069C17.9951 10.1953 17.7558 11.3673 17.2957 12.459C16.8357 13.5507 16.1641 14.5405 15.3196 15.3713C14.4882 16.2072 13.4993 16.87 12.4101 17.3212C11.3208 17.7724 10.1529 18.0031 8.97395 18ZM8.97395 0.799523C7.34694 0.799574 5.75648 1.28207 4.40369 2.18599C3.05089 3.08991 1.99652 4.37466 1.3739 5.87779C0.751276 7.38092 0.588364 9.03491 0.905764 10.6306C1.22316 12.2263 2.00662 13.6921 3.15707 14.8426C3.91909 15.6149 4.82636 16.2288 5.82663 16.649C6.8269 17.0692 7.90042 17.2874 8.98537 17.291C10.0703 17.2947 11.1453 17.0837 12.1483 16.6702C13.1514 16.2567 14.0628 15.6488 14.8299 14.8817C15.5971 14.1145 16.205 13.2032 16.6185 12.2001C17.032 11.1971 17.243 10.1222 17.2394 9.03724C17.2358 7.95231 17.0175 6.87882 16.5973 5.87858C16.1771 4.87833 15.5631 3.97109 14.7908 3.20908C14.0287 2.44283 13.1222 1.83533 12.1237 1.42173C11.1253 1.00813 10.0547 0.796647 8.97395 0.799523Z" fill={iconColor}/>
                    </Svg>
                    :
                    <Svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <Path d="M8.97395 18C7.19905 17.9999 5.46403 17.4735 3.98828 16.4874C2.51253 15.5013 1.36233 14.0998 0.683114 12.46C0.00389957 10.8203 -0.173822 9.01593 0.172421 7.27517C0.518664 5.53441 1.37332 3.93541 2.62833 2.68035C3.45917 1.83589 4.449 1.16427 5.54071 0.704247C6.63242 0.244224 7.80442 0.00489815 8.98909 7.44032e-05C10.1738 -0.00474934 11.3477 0.225024 12.4431 0.676141C13.5385 1.12726 14.5338 1.79079 15.3715 2.62847C16.2092 3.46614 16.8727 4.46138 17.3238 5.55678C17.775 6.65217 18.0047 7.82605 17.9999 9.01069C17.9951 10.1953 17.7558 11.3673 17.2957 12.459C16.8357 13.5507 16.1641 14.5405 15.3196 15.3713C14.4882 16.2072 13.4993 16.87 12.4101 17.3212C11.3208 17.7724 10.1529 18.0031 8.97395 18ZM8.97395 0.799523C7.34694 0.799574 5.75648 1.28207 4.40369 2.18599C3.05089 3.08991 1.99652 4.37466 1.3739 5.87779C0.751276 7.38092 0.588364 9.03491 0.905764 10.6306C1.22316 12.2263 2.00662 13.6921 3.15707 14.8426C3.91909 15.6149 4.82636 16.2288 5.82663 16.649C6.8269 17.0692 7.90042 17.2874 8.98537 17.291C10.0703 17.2947 11.1453 17.0837 12.1483 16.6702C13.1514 16.2567 14.0628 15.6488 14.8299 14.8817C15.5971 14.1145 16.205 13.2032 16.6185 12.2001C17.032 11.1971 17.243 10.1222 17.2394 9.03724C17.2358 7.95231 17.0175 6.87882 16.5973 5.87858C16.1771 4.87833 15.5631 3.97109 14.7908 3.20908C14.0287 2.44283 13.1222 1.83533 12.1237 1.42173C11.1253 1.00813 10.0547 0.796647 8.97395 0.799523Z" fill={iconColor}/>
                        <Path d="M8.97407 14.2609C7.93867 14.2609 6.92653 13.9538 6.06563 13.3786C5.20473 12.8034 4.53374 11.9858 4.13751 11.0293C3.74128 10.0727 3.63761 9.02013 3.83961 8.00465C4.0416 6.98918 4.54019 6.05641 5.27233 5.32429C6.00446 4.59217 6.93726 4.0936 7.95276 3.89161C8.96826 3.68961 10.0209 3.79328 10.9774 4.1895C11.934 4.58572 12.7516 5.25669 13.3268 6.11757C13.9021 6.97845 14.2091 7.99057 14.2091 9.02594C14.2091 10.4143 13.6576 11.7458 12.6758 12.7276C11.694 13.7093 10.3625 14.2609 8.97407 14.2609Z" fill={iconColor} />
                    </Svg>
            }
            <AppText style={styles.label}>
                {label}
            </AppText>
        </TouchableOpacity>
    )
}

const styles = StyleSheet.create({
    wrap: {
        flexDirection: "row",
        alignItems: "center"
    },
    label: {
        fontSize: 14,
        paddingLeft: 10
    }
})
